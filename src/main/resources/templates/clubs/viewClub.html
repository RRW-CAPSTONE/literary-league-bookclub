




<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <title>Home Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rampart+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<!--style tag - add to css-->
<body>
<div th:replace="~{partials :: navbar}"></div>
<div class="main-club-container" >
    <div class="individual-club-container" style="margin: auto">
        <!--        <div class="individual-club-card" >-->
        <div class="individual-club-card card-body w-75 col-md-6 mx-auto" style="background-color: #F3F4F4; text-align: center; border-radius: 25px">
            <h1 th:text="${club.title}"></h1>
            <h3 th:text="|Club creator: ${club.user.username}|"></h3>
            <p th:text="${club.description}"></p>
            <a sec:authorize="isAuthenticated()"
               th:href="@{'/clubs/' + ${club.id} + '/edit'}" th:if="${#authentication.principal.id == club.user.id}"
               class="footer-bg btn">Edit Club</a>
            <form sec:authorize="isAuthenticated()"  th:action="@{/clubs/join}" method="post">
                <input type="hidden" th:value="*{club.id}" name="clubId">
                <button class="btn footer-bg w-50" type="submit">Join club</button>
            </form>
        </div>
    </div>

    <div class="current-members-container m-5">
        <div class="row">
            <div class="col-sm-4">
                <div class="card">
                    <div class="individual-club-card card-body">
                        <h1>Current Members:</h1>
                        <p class="card-text" th:each="user:${club.users}"><span th:text="${user.username}"></span></p>
                        <!--                        <a sec:authorize="isAuthenticated()"-->
                        <!--                           th:href="@{'/clubs/' + ${club.id} + '/edit'}" th:if="${#authentication.principal.id == club.user.id}"-->
                        <!--                           class="footer-bg btn">Edit Club</a>-->
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="card">
                    <div class="individual-club-card card-body">
                        <h1>Current book:</h1>
                        <p>THE CLUBS BOOK</p>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="card">
                    <div class="individual-club-card card-body">
                        <h1>Suggested Reads:</h1>
                        <p>Book 1</p>
                        <p>Book 2</p>
                        <p>Book 3</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row m-5">
            <div class="card">
                <div>
                    <div class="individual-club-card card-body">
                        <h1>Book discussion:</h1>

                        <div th:each="discussion : ${discussions}">
                            <p th:text="${discussion.title}"></p>
                        </div>

                        <!--                                         <p class="card-text" th:each="discussion:${discussions}"><span th:object="${club.bookDiscussions}" th:text="${club.bookDiscussions}"></span></p>-->
                        <!--                                         <form sec:authorize="isAuthenticated()" th:action="@{/clubDiscussion}" method="post">-->
                        <!--                                             <a sec:authorize="isAuthenticated()" class="nav-brand footer-bg btn" href="/clubs/discussion/create">Create discussion</a>-->
                        <!--                                            <p class="card-text" th:each=":${}"><span th:text="${}"></span></p>-->

                        <form sec:authorize="isAuthenticated()" th:action="@{/clubDiscussion}" th:method="post">
                            <a sec:authorize="isAuthenticated()" class="nav-brand footer-bg btn" th:href="@{'/clubs/discussion/create' + '/' + ${club.id}}">Create discussion</a>
                            <input type="hidden" name="id" th:field="*{club.id}">
                            <!--                    <p class="card-text" th:each=" :${}"><span th:text="${}"></span></p>-->
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--    <div class="current-members-container">-->
    <!--        <div class="current-members card" >-->
    <!--            <div class="individual-club-card card-body">-->
    <!--                <h1>Current book:</h1>-->
    <!--                <p>THE CLUBS BOOK</p>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->
    <!--    <div class="current-members-container">-->
    <!--        <div class="current-members card" >-->
    <!--            <div class="individual-club-card card-body">-->
    <!--                <h1>Suggested Reads:</h1>-->
    <!--                <p>Book 1</p>-->
    <!--                <p>Book 2</p>-->
    <!--                <p>Book 3</p>-->
    <!--            </div>-->
    <!--        </div>-->
    <!--    </div>-->

</div>

<!--TODO to show current members below-->
<!--<div class="" style="background-color: red">-->
<!--    <div class="main-allclub-container">-->
<!--        <div class="club-members card">-->
<!--            <div class="individual-club-card card-body" th:each="club : ${clubs}">-->
<!--                <h5 class="card-title">Club Members:</h5>-->
<!--                &lt;!&ndash;                <p class="card-text" th:text="${club.description}"></p>&ndash;&gt;-->
<!--                <p class="card-text" th:each="user:${club.users}"><span th:text="${user.username}"></span></p>-->
<!--                &lt;!&ndash;                <a class="footer-bg btn" th:href="@{/clubs/{id} (id = ${club.id})}">View Club</a>&ndash;&gt;-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->



<!--th:if="${#authentication.principal.id == club.user.id}-->
<!--== ${club.user.id}-->
<!--(club.user.email == #authentication.principal.-->
<!--<div>-->
<!--    <h1 th:text="${club.title}"></h1>-->
<!--    <h3 th:text="|By: ${club.user.email}|"></h3>-->
<!--    <p th:text="${club.description}"></p>-->
<!--    <div>-->
<!--        <a th:href="@{'/clubs/' + ${club.id} + '/edit'}" class="footer-bg btn">Edit Post</a>-->
<!--    </div>-->
<!--</div>-->
<div th:replace="~{partials :: footer}"></div>
<div th:replace="~{partials :: scripts}"></div>


</body>
</html>

















<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">-->
<!--<html lang="en" xmlns="http://www.w3.org/1999/xhtml">-->

<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Home Page</title>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">-->
<!--    <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--    <link href="https://fonts.googleapis.com/css2?family=Rampart+One&display=swap" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/css/style.css">-->
<!--</head>-->
<!--&lt;!&ndash;style tag - add to css&ndash;&gt;-->
<!--<body class="" style="background-color: darkcyan">-->
<!--<div th:replace="partials :: navbar"></div>-->
<!--<div class="main-club-container" >-->
<!--    <div class="individual-club-container">-->
<!--&lt;!&ndash;        <div class="individual-club-card" >&ndash;&gt;-->
<!--        <div class="individual-club-container">-->
<!--            &lt;!&ndash;        <div class="individual-club-card" >&ndash;&gt;-->
<!--            <div class="individual-club-card card-body">-->
<!--                <h3 th:text="${club.title}"></h3>-->
<!--                <h5 th:text="|Club creator: ${club.user.email}|"></h5>-->
<!--                <p th:text="${club.description}"></p>-->
<!--                <a sec:authorize="isAuthenticated()"-->
<!--                   th:href="@{'/clubs/' + ${club.id} + '/edit'}" th:if="${#authentication.principal.id == club.user.id}"-->
<!--                   class="footer-bg btn">Edit Club</a>-->
<!--                <form sec:authorize="isAuthenticated()"  th:action="@{/clubs/join}" method="post">-->
<!--                    <input type="hidden" th:value="*{club.id}" name="clubId">-->
<!--                    <button class="btn footer-bg w-50" type="submit">Join club</button>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="current-members-container">-->
<!--        <div class="current-members card" >-->
<!--            <div class="individual-club-card card-body">-->
<!--                <h3>Current Members:</h3>-->
<!--                <p class="card-text" th:each="user:${club.users}"><span th:text="${user.username}"></span></p>-->
<!--&lt;!&ndash;                <a sec:authorize="isAuthenticated()"&ndash;&gt;-->
<!--&lt;!&ndash;                   th:href="@{'/clubs/' + ${club.id} + '/edit'}" th:if="${#authentication.principal.id == club.user.id}"&ndash;&gt;-->
<!--&lt;!&ndash;                   class="footer-bg btn">Edit Club</a>&ndash;&gt;-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="current-members-container">-->
<!--        <div class="current-members card" >-->
<!--            <div class="individual-club-card card-body">-->
<!--                <h3>Current book:</h3>-->
<!--                <p>THE CLUBS BOOK</p>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="current-members-container">-->
<!--        <div class="current-members card" >-->
<!--            <div class="individual-club-card card-body">-->
<!--                <h3>Suggested Reads:</h3>-->
<!--                <p>Book 1</p>-->
<!--                <p>Book 2</p>-->
<!--                <p>Book 3</p>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="current-members-container">-->
<!--        <div class="current-members card" >-->
<!--            <div class="individual-club-card card-body">-->
<!--                <h3>Book discussion:</h3>-->

<!--&lt;!&ndash;                 <p class="card-text" th:each="discussion:${id}"><span th:object="${club.bookDiscussions}" th:text="${club.bookDiscussions}"></span></p>&ndash;&gt;-->
<!--&lt;!&ndash;                 <form sec:authorize="isAuthenticated()" th:action="@{/clubDiscussion}" method="post">&ndash;&gt;-->
<!--&lt;!&ndash;                     <a sec:authorize="isAuthenticated()" class="nav-brand footer-bg btn" href="/clubs/discussion/create">Create discussion</a>&ndash;&gt;-->
<!--&lt;!&ndash;                    <p class="card-text" th:each=":${}"><span th:text="${}"></span></p>&ndash;&gt;-->

<!--                <form sec:authorize="isAuthenticated()" th:action="@{/clubDiscussion}" th:method="post">-->
<!--                    <a sec:authorize="isAuthenticated()" class="nav-brand footer-bg btn" th:href="@{'/clubs/discussion/create' + '/' + ${club.id}}">Create discussion</a>-->
<!--                    <input type="hidden" name="id" th:field="*{club.id}">-->
<!--                    &lt;!&ndash;                    <p class="card-text" th:each=" :${}"><span th:text="${}"></span></p>&ndash;&gt;-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->





<!--&lt;!&ndash;th:if="${#authentication.principal.id == club.user.id}&ndash;&gt;-->
<!--&lt;!&ndash;== ${club.user.id}&ndash;&gt;-->
<!--&lt;!&ndash;(club.user.email == #authentication.principal.&ndash;&gt;-->
<!--&lt;!&ndash;<div>&ndash;&gt;-->
<!--&lt;!&ndash;    <h1 th:text="${club.title}"></h1>&ndash;&gt;-->
<!--&lt;!&ndash;    <h3 th:text="|By: ${club.user.email}|"></h3>&ndash;&gt;-->
<!--&lt;!&ndash;    <p th:text="${club.description}"></p>&ndash;&gt;-->
<!--&lt;!&ndash;    <div>&ndash;&gt;-->
<!--&lt;!&ndash;        <a th:href="@{'/clubs/' + ${club.id} + '/edit'}" class="footer-bg btn">Edit Post</a>&ndash;&gt;-->
<!--&lt;!&ndash;    </div>&ndash;&gt;-->
<!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--<div th:replace="partials :: footer"></div>-->
<!--<div th:replace="partials :: scripts"></div>-->


<!--</body>-->
<!--</html>-->
